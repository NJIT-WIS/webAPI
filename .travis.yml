sudo: required
dist: trusty


os:
- linux

language: php

php:
- '7.1'



install:
- cp .env.travis .env
- travis_retry composer install --no-interaction --prefer-dist --no-suggest
before_script:
#- mysql -e 'create database homestead_test;'
- export DISPLAY=:99.0
- google-chrome-stable --headless --disable-gpu --remote-debugging-port=9222 http://localhost &
- php artisan config:clear
- php artisan key:generate
#- php artisan migrate
#- php artisan serve &

- php artisan serve > /dev/null 2>&1 &
- composer self-update

# - pear install pear/PHP_CodeSniffer
- phpenv rehash
- nvm install 7.7.1
- npm install npm@latest -g
- npm install -g jshint
- npm install



script:
#- php artisan dusk
#- vendor/bin/phpunit --coverage-text
# - phpcs --ignore=app/Http/Controllers/Auth,app/Http/Controllers/Controller.php app/Http/Controllers
- npm run production
- jshint resources/assets/js/modules/*
